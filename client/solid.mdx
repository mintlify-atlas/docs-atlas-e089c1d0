---
title: Solid.js Client
description: Use Better Auth with Solid.js and SolidStart.
---

The Solid.js client provides signals and resources optimized for Solid.js applications. It integrates seamlessly with Solid's fine-grained reactivity system.

## Installation

```package-install
better-auth
```

## Create a Client

Create a client instance by importing `createAuthClient` from `better-auth/solid`:

```ts title="lib/auth-client.ts"
import { createAuthClient } from "better-auth/solid";

export const authClient = createAuthClient({
  baseURL: "http://localhost:3000", // the base url of your auth server
});
```

<Callout type="info">
  Make sure to import from `better-auth/solid`, not `better-auth/client`. The Solid client includes Solid-specific signals and resources.
</Callout>

## Configuration

The Solid client accepts the same configuration options as the vanilla client:

```ts title="lib/auth-client.ts"
import { createAuthClient } from "better-auth/solid";

export const authClient = createAuthClient({
  baseURL: "http://localhost:3000",
  fetchOptions: {
    credentials: "include",
    onError(context) {
      console.error(context.error);
    },
  },
  plugins: [],
});
```

## Usage

### useSession Signal

The `useSession` function returns a Solid signal (Accessor) with the current session:

```tsx title="components/Profile.tsx"
import { authClient } from "~/lib/auth-client";
import { Show } from "solid-js";

export function Profile() {
  const session = authClient.useSession();

  return (
    <div>
      <Show when={session().isPending}>
        <div>Loading...</div>
      </Show>

      <Show when={session().error}>
        <div>Error: {session().error?.message}</div>
      </Show>

      <Show when={!session().data}>
        <div>Not authenticated</div>
      </Show>

      <Show when={session().data}>
        {(data) => (
          <div>
            <h1>Welcome, {data().user.name}!</h1>
            <p>Email: {data().user.email}</p>
            <button onClick={() => authClient.signOut()}>
              Sign Out
            </button>
          </div>
        )}
      </Show>
    </div>
  );
}
```

<Callout type="info">
  The `useSession` function returns a Solid.js `Accessor` that automatically tracks changes and updates components efficiently.
</Callout>

### Authentication Methods

All authentication methods work seamlessly with Solid:

```tsx title="components/LoginForm.tsx"
import { createSignal } from "solid-js";
import { authClient } from "~/lib/auth-client";
import { useNavigate } from "@solidjs/router";

export function LoginForm() {
  const navigate = useNavigate();
  const [email, setEmail] = createSignal("");
  const [password, setPassword] = createSignal("");
  const [loading, setLoading] = createSignal(false);
  const [error, setError] = createSignal<string | null>(null);

  const handleSubmit = async (e: Event) => {
    e.preventDefault();
    setLoading(true);
    setError(null);

    try {
      await authClient.signIn.email(
        {
          email: email(),
          password: password(),
          rememberMe: true,
        },
        {
          onSuccess: () => {
            navigate("/dashboard");
          },
          onError: (ctx) => {
            setError(ctx.error.message);
          },
        }
      );
    } finally {
      setLoading(false);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <Show when={error()}>
        <div class="error">{error()}</div>
      </Show>

      <input
        type="email"
        value={email()}
        onInput={(e) => setEmail(e.currentTarget.value)}
        placeholder="Email"
        required
      />

      <input
        type="password"
        value={password()}
        onInput={(e) => setPassword(e.currentTarget.value)}
        placeholder="Password"
        required
      />

      <button type="submit" disabled={loading()}>
        {loading() ? "Signing in..." : "Sign In"}
      </button>
    </form>
  );
}
```

### Sign Up

```tsx title="components/SignUpForm.tsx"
import { createSignal } from "solid-js";
import { authClient } from "~/lib/auth-client";
import { useNavigate } from "@solidjs/router";

export function SignUpForm() {
  const navigate = useNavigate();
  const [formData, setFormData] = createSignal({
    email: "",
    password: "",
    name: "",
  });
  const [loading, setLoading] = createSignal(false);

  const handleSubmit = async (e: Event) => {
    e.preventDefault();
    setLoading(true);

    await authClient.signUp.email(formData(), {
      onSuccess: () => {
        navigate("/dashboard");
      },
      onError: (ctx) => {
        alert(ctx.error.message);
      },
    });

    setLoading(false);
  };

  const updateField = (field: string, value: string) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={formData().name}
        onInput={(e) => updateField("name", e.currentTarget.value)}
        placeholder="Name"
        required
      />
      <input
        type="email"
        value={formData().email}
        onInput={(e) => updateField("email", e.currentTarget.value)}
        placeholder="Email"
        required
      />
      <input
        type="password"
        value={formData().password}
        onInput={(e) => updateField("password", e.currentTarget.value)}
        placeholder="Password"
        required
      />
      <button type="submit" disabled={loading()}>
        Sign Up
      </button>
    </form>
  );
}
```

### Refetching Session

Manually refetch the session:

```tsx title="components/RefreshButton.tsx"
import { authClient } from "~/lib/auth-client";

export function RefreshButton() {
  const session = authClient.useSession();

  return (
    <button
      onClick={() => session().refetch()}
      disabled={session().isRefetching}
    >
      {session().isRefetching ? "Refreshing..." : "Refresh Session"}
    </button>
  );
}
```

## Protected Routes

Create a protected route component:

```tsx title="components/ProtectedRoute.tsx"
import { Component, Show } from "solid-js";
import { Navigate } from "@solidjs/router";
import { authClient } from "~/lib/auth-client";

interface ProtectedRouteProps {
  children: Component;
}

export function ProtectedRoute(props: ProtectedRouteProps) {
  const session = authClient.useSession();

  return (
    <Show
      when={!session().isPending}
      fallback={<div>Loading...</div>}
    >
      <Show
        when={session().data}
        fallback={<Navigate href="/login" />}
      >
        {props.children}
      </Show>
    </Show>
  );
}
```

Use in your routes:

```tsx title="App.tsx"
import { Router, Route } from "@solidjs/router";
import { ProtectedRoute } from "~/components/ProtectedRoute";
import { Dashboard } from "~/pages/Dashboard";
import { Login } from "~/pages/Login";

export function App() {
  return (
    <Router>
      <Route path="/login" component={Login} />
      <Route
        path="/dashboard"
        component={() => (
          <ProtectedRoute>
            <Dashboard />
          </ProtectedRoute>
        )}
      />
    </Router>
  );
}
```

## SolidStart Integration

For SolidStart, you can use server functions:

```ts title="routes/api/auth/[...all].ts"
import { auth } from "~/lib/auth";

export const { GET, POST } = auth.handler;
```

And create server functions for session management:

```ts title="lib/session.ts"
import { createAsync, cache } from "@solidjs/router";
import { auth } from "~/lib/auth";

export const getSession = cache(async () => {
  "use server";
  return await auth.api.getSession({
    headers: new Headers(),
  });
}, "session");

export function useServerSession() {
  return createAsync(() => getSession());
}
```

Use in components:

```tsx
import { useServerSession } from "~/lib/session";
import { Show } from "solid-js";

export function ServerProfile() {
  const session = useServerSession();

  return (
    <Show when={session()}>
      {(data) => <div>Welcome, {data().user.name}!</div>}
    </Show>
  );
}
```

For more details, see the [SolidStart integration guide](/docs/integrations/solid-start).

## With Plugins

Extend the client with plugins:

```ts title="lib/auth-client.ts"
import { createAuthClient } from "better-auth/solid";
import { organizationClient } from "better-auth/client/plugins";

export const authClient = createAuthClient({
  baseURL: "http://localhost:3000",
  plugins: [
    organizationClient(),
  ],
});
```

Use plugin methods:

```tsx
import { authClient } from "~/lib/auth-client";

export function CreateOrgButton() {
  const createOrg = async () => {
    await authClient.organization.create({
      name: "My Organization",
    });
  };

  return <button onClick={createOrg}>Create Organization</button>;
}
```

## TypeScript Support

The Solid client provides full TypeScript support:

```ts
import { authClient } from "~/lib/auth-client";
import type { Accessor } from "solid-js";

// Infer session type
type Session = typeof authClient.$Infer.Session;

// The session is a Solid accessor
const session: Accessor<{
  data: Session | null;
  isPending: boolean;
  error: Error | null;
}> = authClient.useSession();
```

## Memos and Derived State

Create memos based on session:

```tsx
import { createMemo } from "solid-js";
import { authClient } from "~/lib/auth-client";

export function Profile() {
  const session = authClient.useSession();

  const isAdmin = createMemo(() => {
    return session().data?.user.role === "admin";
  });

  const greeting = createMemo(() => {
    const name = session().data?.user.name;
    return name ? `Hello, ${name}!` : "Hello, Guest!";
  });

  return (
    <div>
      <h1>{greeting()}</h1>
      <Show when={isAdmin()}>
        <div>Admin panel access</div>
      </Show>
    </div>
  );
}
```

## Resources

Create resources based on authentication:

```tsx
import { createResource, Show } from "solid-js";
import { authClient } from "~/lib/auth-client";

const fetchUserData = async (userId: string) => {
  const response = await authClient.$fetch(`/api/users/${userId}`);
  return response.json();
};

export function UserProfile() {
  const session = authClient.useSession();

  const [userData] = createResource(
    () => session().data?.user.id,
    fetchUserData
  );

  return (
    <Show when={!userData.loading} fallback={<div>Loading user data...</div>}>
      <Show when={userData()}>
        {(data) => (
          <div>
            <h2>User Profile</h2>
            <pre>{JSON.stringify(data(), null, 2)}</pre>
          </div>
        )}
      </Show>
    </Show>
  );
}
```

## Effects

Run effects based on session changes:

```tsx
import { createEffect } from "solid-js";
import { authClient } from "~/lib/auth-client";
import { useNavigate } from "@solidjs/router";

export function AuthGuard(props: { children: any }) {
  const navigate = useNavigate();
  const session = authClient.useSession();

  createEffect(() => {
    if (!session().isPending && !session().data) {
      navigate("/login");
    }
  });

  return <>{props.children}</>;
}
```

## API Reference

For a complete list of available methods, signals, and their types, see the [Client API Reference](/docs/api/client/methods).
