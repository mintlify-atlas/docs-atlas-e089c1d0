---
title: React Client
description: Use Better Auth with React.
---

The React client provides hooks and components optimized for React applications. It wraps the vanilla client with React-specific features for better integration with React's rendering lifecycle.

## Installation

```package-install
better-auth
```

## Create a Client

Create a client instance by importing `createAuthClient` from `better-auth/react`:

```tsx title="lib/auth-client.ts"
import { createAuthClient } from "better-auth/react";

export const authClient = createAuthClient({
  baseURL: "http://localhost:3000", // the base url of your auth server
});

export const { useSession, signIn, signOut, signUp } = authClient;
```

<Callout type="info">
  Make sure to import from `better-auth/react`, not `better-auth/client`. The React client includes React-specific hooks and optimizations.
</Callout>

## Configuration

The React client accepts the same configuration options as the vanilla client:

```tsx title="lib/auth-client.ts"
import { createAuthClient } from "better-auth/react";

export const authClient = createAuthClient({
  baseURL: "http://localhost:3000",
  fetchOptions: {
    credentials: "include",
    onError(context) {
      // Handle errors globally
      console.error(context.error);
    },
  },
  plugins: [], // add client plugins
});
```

## Usage

### useSession Hook

The `useSession` hook provides reactive access to the current session:

```tsx title="components/Profile.tsx"
import { authClient } from "@/lib/auth-client";

export function Profile() {
  const session = authClient.useSession();

  if (session.isPending) {
    return <div>Loading...</div>;
  }

  if (session.error) {
    return <div>Error: {session.error.message}</div>;
  }

  if (!session.data) {
    return <div>Not authenticated</div>;
  }

  return (
    <div>
      <h1>Welcome, {session.data.user.name}!</h1>
      <p>Email: {session.data.user.email}</p>
      <button onClick={() => authClient.signOut()}>
        Sign Out
      </button>
    </div>
  );
}
```

### Authentication Methods

All authentication methods are available directly on the client:

```tsx title="components/LoginForm.tsx"
import { useState } from "react";
import { authClient } from "@/lib/auth-client";

export function LoginForm() {
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);

    try {
      await authClient.signIn.email(
        {
          email,
          password,
          rememberMe: true,
        },
        {
          onSuccess: () => {
            // Redirect or update UI
            window.location.href = "/dashboard";
          },
          onError: (ctx) => {
            alert("Login failed: " + ctx.error.message);
          },
        }
      );
    } finally {
      setLoading(false);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type="email"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="Email"
        required
      />
      <input
        type="password"
        value={password}
        onChange={(e) => setPassword(e.target.value)}
        placeholder="Password"
        required
      />
      <button type="submit" disabled={loading}>
        {loading ? "Signing in..." : "Sign In"}
      </button>
    </form>
  );
}
```

### Sign Up

```tsx title="components/SignUpForm.tsx"
import { useState } from "react";
import { authClient } from "@/lib/auth-client";

export function SignUpForm() {
  const [formData, setFormData] = useState({
    email: "",
    password: "",
    name: "",
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    await authClient.signUp.email(formData, {
      onSuccess: () => {
        window.location.href = "/dashboard";
      },
      onError: (ctx) => {
        alert(ctx.error.message);
      },
    });
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type="text"
        value={formData.name}
        onChange={(e) => setFormData({ ...formData, name: e.target.value })}
        placeholder="Name"
        required
      />
      <input
        type="email"
        value={formData.email}
        onChange={(e) => setFormData({ ...formData, email: e.target.value })}
        placeholder="Email"
        required
      />
      <input
        type="password"
        value={formData.password}
        onChange={(e) => setFormData({ ...formData, password: e.target.value })}
        placeholder="Password"
        required
      />
      <button type="submit">Sign Up</button>
    </form>
  );
}
```

### Refetching Session

You can manually refetch the session when needed:

```tsx
import { authClient } from "@/lib/auth-client";

export function RefreshButton() {
  const session = authClient.useSession();

  return (
    <button
      onClick={() => session.refetch()}
      disabled={session.isRefetching}
    >
      {session.isRefetching ? "Refreshing..." : "Refresh Session"}
    </button>
  );
}
```

## Protected Routes

Create a protected route component:

```tsx title="components/ProtectedRoute.tsx"
import { ReactNode } from "react";
import { authClient } from "@/lib/auth-client";
import { Navigate } from "react-router-dom";

interface ProtectedRouteProps {
  children: ReactNode;
}

export function ProtectedRoute({ children }: ProtectedRouteProps) {
  const session = authClient.useSession();

  if (session.isPending) {
    return <div>Loading...</div>;
  }

  if (!session.data) {
    return <Navigate to="/login" replace />;
  }

  return <>{children}</>;
}
```

Use it in your routes:

```tsx title="App.tsx"
import { BrowserRouter, Routes, Route } from "react-router-dom";
import { ProtectedRoute } from "./components/ProtectedRoute";
import { Dashboard } from "./pages/Dashboard";
import { Login } from "./pages/Login";

export function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/login" element={<Login />} />
        <Route
          path="/dashboard"
          element={
            <ProtectedRoute>
              <Dashboard />
            </ProtectedRoute>
          }
        />
      </Routes>
    </BrowserRouter>
  );
}
```

## With Plugins

Extend the client with plugins for additional functionality:

```tsx title="lib/auth-client.ts"
import { createAuthClient } from "better-auth/react";
import { organizationClient } from "better-auth/client/plugins";

export const authClient = createAuthClient({
  baseURL: "http://localhost:3000",
  plugins: [
    organizationClient(),
  ],
});

// Use plugin-provided hooks
export function OrganizationList() {
  // Plugin hooks are available with proper typing
  const session = authClient.useSession();

  return (
    <div>
      {/* Use organization methods */}
      <button onClick={() => authClient.organization.create({ name: "New Org" })}>
        Create Organization
      </button>
    </div>
  );
}
```

## TypeScript Support

The React client provides full TypeScript support:

```tsx
import { authClient } from "@/lib/auth-client";

// Infer session type
type Session = typeof authClient.$Infer.Session;

// Use typed session
export function TypedProfile() {
  const session = authClient.useSession();

  // TypeScript knows the exact shape of session.data
  if (session.data) {
    const user = session.data.user;
    // All properties are typed
    const email: string = user.email;
    const name: string = user.name;
  }

  return null;
}
```

## Error Handling

Handle errors with typed error codes:

```tsx
import { authClient } from "@/lib/auth-client";

export function LoginWithErrorHandling() {
  const handleLogin = async (email: string, password: string) => {
    try {
      await authClient.signIn.email({ email, password });
    } catch (error) {
      // Access typed error codes
      if (error.status === 401) {
        console.error("Invalid credentials");
      }
    }
  };

  return null;
}
```

## React Hook Best Practices

### Destructure What You Need

```tsx
export function OptimizedComponent() {
  const { data, isPending } = authClient.useSession();

  if (isPending) return <div>Loading...</div>;
  if (!data) return <div>Not logged in</div>;

  return <div>Hello {data.user.name}</div>;
}
```

### Avoid Unnecessary Re-renders

```tsx
import { memo } from "react";

export const UserAvatar = memo(function UserAvatar() {
  const { data } = authClient.useSession();

  if (!data) return null;

  return <img src={data.user.image} alt={data.user.name} />;
});
```

## API Reference

For a complete list of available methods, hooks, and their types, see the [Client API Reference](/docs/api/client/methods).
